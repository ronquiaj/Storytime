[{"/Users/adrianronquillo/Desktop/storytime/src/index.js":"1","/Users/adrianronquillo/Desktop/storytime/src/components/App.js":"2","/Users/adrianronquillo/Desktop/storytime/src/components/Login.js":"3","/Users/adrianronquillo/Desktop/storytime/src/components/Home.js":"4","/Users/adrianronquillo/Desktop/storytime/src/components/AppNav.js":"5","/Users/adrianronquillo/Desktop/storytime/src/components/Story.js":"6","/Users/adrianronquillo/Desktop/storytime/src/components/User.js":"7","/Users/adrianronquillo/Desktop/storytime/src/components/Error.js":"8","/Users/adrianronquillo/Desktop/storytime/src/components/EditUser.js":"9","/Users/adrianronquillo/Desktop/storytime/src/components/Signup.js":"10","/Users/adrianronquillo/Desktop/storytime/src/contexts/AuthenticatedContext.js":"11","/Users/adrianronquillo/Desktop/storytime/src/contexts/UpdatedUserContext.js":"12","/Users/adrianronquillo/Desktop/storytime/src/components/Spinner.js":"13","/Users/adrianronquillo/Desktop/storytime/src/components/UserDisplay.js":"14","/Users/adrianronquillo/Desktop/storytime/src/components/Post.js":"15","/Users/adrianronquillo/Desktop/storytime/src/hooks/useForm.js":"16","/Users/adrianronquillo/Desktop/storytime/src/firebase/Firebase.js":"17","/Users/adrianronquillo/Desktop/storytime/src/components/StoryDisplay.js":"18","/Users/adrianronquillo/Desktop/storytime/src/components/SignupForm.js":"19","/Users/adrianronquillo/Desktop/storytime/src/components/LoginForm.js":"20","/Users/adrianronquillo/Desktop/storytime/src/components/MiniStory.js":"21","/Users/adrianronquillo/Desktop/storytime/src/components/PostDisplay.js":"22","/Users/adrianronquillo/Desktop/storytime/src/components/EditUserForn.js":"23","/Users/adrianronquillo/Desktop/storytime/src/components/HomeForm.js":"24","/Users/adrianronquillo/Desktop/storytime/src/components/Timer.js":"25","/Users/adrianronquillo/Desktop/storytime/src/components/timer.js":"26","/Users/adrianronquillo/Desktop/storytime/src/styles/storyStyles.js":"27","/Users/adrianronquillo/Desktop/storytime/src/styles/homeStyles.js":"28","/Users/adrianronquillo/Desktop/storytime/src/styles/editUserStyles.js":"29","/Users/adrianronquillo/Desktop/storytime/src/styles/userDisplayStyles.js":"30","/Users/adrianronquillo/Desktop/storytime/src/styles/postStyles.js":"31","/Users/adrianronquillo/Desktop/storytime/src/components/ReactSlider.js":"32","/Users/adrianronquillo/Desktop/storytime/src/components/ArchivedStories.js":"33","/Users/adrianronquillo/Desktop/storytime/src/components/ArchivedStory.js":"34"},{"size":348,"mtime":1608348905480,"results":"35","hashOfConfig":"36"},{"size":1704,"mtime":1612065723698,"results":"37","hashOfConfig":"36"},{"size":1411,"mtime":1611693475315,"results":"38","hashOfConfig":"36"},{"size":3890,"mtime":1611947200165,"results":"39","hashOfConfig":"36"},{"size":3105,"mtime":1611967798244,"results":"40","hashOfConfig":"36"},{"size":9198,"mtime":1612039072203,"results":"41","hashOfConfig":"36"},{"size":1083,"mtime":1611693339537,"results":"42","hashOfConfig":"36"},{"size":376,"mtime":1608847129830,"results":"43","hashOfConfig":"36"},{"size":3687,"mtime":1611951200314,"results":"44","hashOfConfig":"36"},{"size":4303,"mtime":1611693492206,"results":"45","hashOfConfig":"36"},{"size":664,"mtime":1608767565710,"results":"46","hashOfConfig":"36"},{"size":615,"mtime":1611466723947,"results":"47","hashOfConfig":"36"},{"size":2582,"mtime":1609118431570,"results":"48","hashOfConfig":"36"},{"size":636,"mtime":1611944509938,"results":"49","hashOfConfig":"36"},{"size":4405,"mtime":1611944512915,"results":"50","hashOfConfig":"36"},{"size":352,"mtime":1611951149264,"results":"51","hashOfConfig":"36"},{"size":718,"mtime":1609300728520,"results":"52","hashOfConfig":"36"},{"size":1905,"mtime":1611970281550,"results":"53","hashOfConfig":"36"},{"size":2702,"mtime":1611467711670,"results":"54","hashOfConfig":"36"},{"size":1686,"mtime":1611467937213,"results":"55","hashOfConfig":"36"},{"size":716,"mtime":1611698549241,"results":"56","hashOfConfig":"36"},{"size":1095,"mtime":1611469054891,"results":"57","hashOfConfig":"36"},{"size":1433,"mtime":1611693456979,"results":"58","hashOfConfig":"36"},{"size":3886,"mtime":1611950188644,"results":"59","hashOfConfig":"36"},{"size":2266,"mtime":1611711473746,"results":"60","hashOfConfig":"36"},{"size":2926,"mtime":1611992052934,"results":"61","hashOfConfig":"36"},{"size":1645,"mtime":1611944002530,"results":"62","hashOfConfig":"36"},{"size":393,"mtime":1611949134241,"results":"63","hashOfConfig":"36"},{"size":685,"mtime":1611469139228,"results":"64","hashOfConfig":"36"},{"size":309,"mtime":1611468789964,"results":"65","hashOfConfig":"36"},{"size":1094,"mtime":1611468840760,"results":"66","hashOfConfig":"36"},{"size":946,"mtime":1611949177933,"results":"67","hashOfConfig":"36"},{"size":834,"mtime":1612063872730,"results":"68","hashOfConfig":"36"},{"size":1982,"mtime":1612064850668,"results":"69","hashOfConfig":"36"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},"1x4z3zo",{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"72"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/adrianronquillo/Desktop/storytime/src/index.js",[],["140","141"],"/Users/adrianronquillo/Desktop/storytime/src/components/App.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/Login.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/Home.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/AppNav.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/Story.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/User.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/Error.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/EditUser.js",["142","143"],"import { useState, useEffect, useContext, useCallback } from \"react\";\nimport { db, storage } from \"../firebase/Firebase\";\nimport { withStyles } from \"@material-ui/core\";\nimport { Alert } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport useForm from \"../hooks/useForm\";\nimport { AuthenticatedContext } from \"../contexts/AuthenticatedContext\";\nimport { UpdatedUserContext } from \"../contexts/UpdatedUserContext\";\nimport styles from \"../styles/editUserStyles\";\nimport EditUserForm from \"./EditUserForn\";\n\nfunction EditUser(props) {\n  const { classes } = props;\n  const history = useHistory();\n  const { user: pageUser } = props.match.params;\n  const [profilePictureRef, changeProfilePictureRef] = useState(\"\");\n  const [bioRef, changeBioRef, reset, initialBioRef] = useForm(\"\");\n  const [displayNameRef, changeDisplayNameRef] = useState(\"\");\n  const [displayImageRef, changeDisplayImageRef] = useState(\"\");\n  const [pageLoaded, changePageLoaded] = useState(false);\n  const { user } = useContext(AuthenticatedContext);\n  const { userUpdated } = useContext(UpdatedUserContext);\n  const [alert, changeAlert] = useState(\"\");\n\n  const handleChange = (e) => {\n    const image = e.target.files[0];\n    changeProfilePictureRef(image);\n    changeDisplayImageRef(URL.createObjectURL(image));\n  };\n\n  const fetchData = useCallback(async () => {\n    const userData = await db.collection(\"users\").doc(pageUser).get();\n    const { displayName, photoURL, bio } = userData.data();\n    changeDisplayImageRef(photoURL);\n    changeDisplayNameRef(displayName);\n    initialBioRef(bio);\n    if (!user || user.displayName !== displayName) {\n      history.push(\"/error\");\n    } else {\n      changePageLoaded(true);\n    }\n  }, [history, user, pageUser, initialBioRef]);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (profilePictureRef) {\n      // If profile picture is going to be changed\n      storage\n        .ref(\"images\")\n        .child(user.displayName)\n        .delete()\n        .then(() => {\n          storage\n            .ref(`/images/${user.displayName}`)\n            .put(profilePictureRef)\n            .then(() => {\n              storage\n                .ref(\"images\")\n                .child(user.displayName)\n                .getDownloadURL()\n                .then((url) => {\n                  db.collection(\"users\")\n                    .doc(user.displayName)\n                    .set(\n                      {\n                        bio: bioRef,\n                        photoURL: url || user.photoURL\n                      },\n                      { merge: true }\n                    );\n                  userUpdated();\n                  changeAlert(\"Successfully updated!\");\n                });\n            })\n            .catch((err) => console.log(err));\n        })\n        .catch((err) => {\n          console.log(\"Error deleting picture\", err);\n        });\n    } else {\n      db.collection(\"users\").doc(user.displayName).set(\n        {\n          bio: bioRef\n        },\n        { merge: true }\n      );\n      changeAlert(\"Successfully updated!\");\n    }\n  };\n\n  return (\n    <>\n      {alert ? (\n        <Alert onClick={() => changeAlert(\"\")} variant='success'>\n          <Alert.Heading>{alert}</Alert.Heading>\n        </Alert>\n      ) : null}\n      <EditUserForm\n        classes={classes}\n        pageLoaded={pageLoaded}\n        handleSubmit={handleSubmit}\n        displayNameRef={displayNameRef}\n        displayImageRef={displayImageRef}\n        handleChange={handleChange}\n        bioRef={bioRef}\n        changeBioRef={changeBioRef}\n      />\n    </>\n  );\n}\n\nexport default withStyles(styles)(EditUser);\n","/Users/adrianronquillo/Desktop/storytime/src/components/Signup.js",[],"/Users/adrianronquillo/Desktop/storytime/src/contexts/AuthenticatedContext.js",[],"/Users/adrianronquillo/Desktop/storytime/src/contexts/UpdatedUserContext.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/Spinner.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/UserDisplay.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/Post.js",[],"/Users/adrianronquillo/Desktop/storytime/src/hooks/useForm.js",[],"/Users/adrianronquillo/Desktop/storytime/src/firebase/Firebase.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/StoryDisplay.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/SignupForm.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/LoginForm.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/MiniStory.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/PostDisplay.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/EditUserForn.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/HomeForm.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/Timer.js",["144"],"/Users/adrianronquillo/Desktop/storytime/src/components/timer.js",[],"/Users/adrianronquillo/Desktop/storytime/src/styles/storyStyles.js",[],"/Users/adrianronquillo/Desktop/storytime/src/styles/homeStyles.js",[],"/Users/adrianronquillo/Desktop/storytime/src/styles/editUserStyles.js",[],"/Users/adrianronquillo/Desktop/storytime/src/styles/userDisplayStyles.js",[],"/Users/adrianronquillo/Desktop/storytime/src/styles/postStyles.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/ReactSlider.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/ArchivedStories.js",[],"/Users/adrianronquillo/Desktop/storytime/src/components/ArchivedStory.js",[],{"ruleId":"145","replacedBy":"146"},{"ruleId":"147","replacedBy":"148"},{"ruleId":"149","severity":1,"message":"150","line":17,"column":32,"nodeType":"151","messageId":"152","endLine":17,"endColumn":37},{"ruleId":"153","severity":1,"message":"154","line":46,"column":6,"nodeType":"155","endLine":46,"endColumn":8,"suggestions":"156"},{"ruleId":"157","severity":1,"message":"158","line":58,"column":36,"nodeType":"159","messageId":"160","endLine":58,"endColumn":38},"no-native-reassign",["161"],"no-negated-in-lhs",["162"],"no-unused-vars","'reset' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","ArrayExpression",["163"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation",{"desc":"164","fix":"165"},"Update the dependencies array to be: [fetchData]",{"range":"166","text":"167"},[1814,1816],"[fetchData]"]